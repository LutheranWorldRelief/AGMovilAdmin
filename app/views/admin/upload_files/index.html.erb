<div class="container">
	<h2>Lista de archivos</h2>
	<br>
	<div class="row">
		<div class="col-md-12">
			<div class="card">
			  <div class="card-header">
			    <%= link_to "<i class='fas fa-plus'></i> Agregar".html_safe, new_admin_upload_file_path, class: "btn btn-raised btn-primary btn-sm float-right ", data: { toggle: "modal", target: "#modal-new" }, remote: true %>
			    Archivos subidos (<%= @files.size %>)
			  </div>
			  <div class="card-body">
					<% if @files.size > 0 %>
						<div class="row">
						<% @files.each do |file| %>
							<div class="col-md-3">
								<div class="card">
								  <div class="card-body">
								    <h6 class="card-subtitle mb-2 text-muted"><%= file.name %>.<%= file.file_type %></h6>
								    <p class="card-text"><%= file.description.present? ? file.description : "<div class='text-center'><i class='fas fa-#{file.get_icon_uf} fa-4x'></i></div>".html_safe %></p>
								    <% if file.guide %>
								    <ul>
								    	<li><b>Guía:</b> <%= file.guide.name %></li>
								    </ul>
								    <% end %>
								    <br>
								    <%= link_to "<i class='fas fa-file-download'></i> Descargar".html_safe, file.file_upload.url, class: "btn btn-success btn-sm" %>
								    <%= link_to "<i class='fas fa-edit'></i>".html_safe, edit_admin_upload_file_path(file), remote: true, class: "btn btn-warning btn-sm" %>
								    <%= link_to "<i class='fas fa-trash'></i>".html_safe, admin_upload_file_path(file) , method: :delete, data: {:confirm => "¿Esta seguro de eliminar?" }, class: "btn btn-danger btn-sm" %>
								  </div>
								</div>
							</div>
						<% end %>
						</div>
					<% else %>
						<div class="alert alert-warning text-center" role="alert">
						  <i class="fas fa-exclamation-circle"></i> No existe ningún registro.
						</div>
					<% end %>
			    
			  </div>
			</div>
		</div>
	</div>
</div>
<div id="modal-file"></div>
